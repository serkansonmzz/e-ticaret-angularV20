<!-- Header/Navbar -->
<nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top shadow-sm">
  <div class="container-fluid">
    <button class="btn d-md-none" id="sidebarToggle">
      <span class="material-symbols-outlined">menu</span>
    </button>
    <!-- Bread Crumb -->
    <div
      class="breadcrumb-container position-relative d-none d-md-block"
      style="width: 250px"
    >
      <nav aria-label="breadcrumb" class="modern-breadcrumb">
        <app-breadcrumb />
      </nav>
    </div>

    <!-- Search Bar -->

    <div class="ms-auto d-flex align-items-center">
      <!-- User Dropdown -->
      <div class="dropdown">
        <a
          class="d-flex align-items-center text-decoration-none dropdown-toggle"
          style="color: var(--text-color)"
          href="#"
          id="userDropdown"
          role="button"
          data-bs-toggle="dropdown"
          aria-expanded="false"
        >
          <div class="avatar">
            <img
              src="https://emuhasebe-dev.ecnorow.com/images/avatar/24.png"
              alt="User Avatar"
            />
          </div>
          <div class="d-flex flex-direction-column">
            <span class="d-none d-md-inline small-text">Jhon Doe</span>
            <span class="d-none d-md-inline small-x-text"
              >{{`jhon@doe.com`}}</span
            >
          </div>
        </a>
        <ul
          class="dropdown-menu dropdown-menu-end shadow"
          aria-labelledby="userDropdown"
        >
          <li>
            <a class="dropdown-item small-text" href="#"
              ><span class="material-symbols-outlined me-2">account_circle</span
              >Profile</a
            >
          </li>
          <li>
            <a class="dropdown-item small-text" href="#"
              ><span class="material-symbols-outlined me-2">settings</span
              >Settings</a
            >
          </li>
          <li>
            <hr class="dropdown-divider" />
          </li>
          <li>
            <a class="dropdown-item small-text" routerLink="/login"
              ><span class="material-symbols-outlined me-2">logout</span
              >Logout</a
            >
          </li>
        </ul>
      </div>
    </div>
  </div>
</nav>

<div class="d-flex" id="wrapper">
  <!-- Sidebar -->
  <div id="sidebar-wrapper">
    <!-- Brand -->
    <div
      class="sidebar-brand d-flex align-items-center justify-content-between"
    >
      <a href="#" class="d-flex gap-3 logo">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 50 50"
          width="50"
          height="50"
        >
          <defs>
            <linearGradient
              id="iconGradient"
              x1="0%"
              y1="0%"
              x2="100%"
              y2="100%"
            >
              <stop offset="0%" style="stop-color: #4361ee; stop-opacity: 1" />
              <stop
                offset="100%"
                style="stop-color: #5a78ff; stop-opacity: 1"
              />
            </linearGradient>
            <clipPath id="hexClip">
              <polygon points="25 2, 47 13, 47 36, 25 47, 3 36, 3 13" />
            </clipPath>
          </defs>

          <!-- Hexagonal background -->
          <polygon
            points="25 2, 47 13, 47 36, 25 47, 3 36, 3 13"
            fill="url(#iconGradient)"
            opacity="0.1"
          />

          <!-- Network/Connection Lines -->
          <g
            stroke="url(#iconGradient)"
            stroke-width="2.5"
            stroke-linecap="round"
            stroke-linejoin="round"
            clip-path="url(#hexClip)"
          >
            <line x1="25" y1="10" x2="10" y2="25" opacity="0.6" />
            <line x1="25" y1="10" x2="40" y2="25" opacity="0.6" />
            <line x1="10" y1="25" x2="25" y2="40" opacity="0.6" />
            <line x1="40" y1="25" x2="25" y2="40" opacity="0.6" />
          </g>

          <!-- Central Nodes -->
          <circle cx="25" cy="25" r="5" fill="url(#iconGradient)" />
          <circle
            cx="10"
            cy="25"
            r="3"
            fill="url(#iconGradient)"
            opacity="0.7"
          />
          <circle
            cx="40"
            cy="25"
            r="3"
            fill="url(#iconGradient)"
            opacity="0.7"
          />
          <circle
            cx="25"
            cy="10"
            r="3"
            fill="url(#iconGradient)"
            opacity="0.7"
          />
          <circle
            cx="25"
            cy="40"
            r="3"
            fill="url(#iconGradient)"
            opacity="0.7"
          />
        </svg>
        <span>Stellar Admin</span>
      </a>
      <button class="btn-close-sidebar d-md-none">
        <span class="material-symbols-outlined">close</span>
      </button>
    </div>

    <!-- User Profile -->
    <div class="user-profile">
      <div class="avatar">
        <img
          src="https://emuhasebe-dev.ecnorow.com/images/avatar/24.png"
          alt="User Avatar"
        />
      </div>
      <div class="user-info">
        <span class="user-name">Jhon Doe</span>
      </div>
    </div>

    <!-- Sidebar Search -->
    <div class="sidebar-search">
      <div class="position-relative">
        <input
          type="text"
          [(ngModel)]="search"
          class="form-control sidebar-search-input"
          placeholder="Search menu..."
        />
        <span class="material-symbols-outlined sidebar-search-icon"
          >search</span
        >
      </div>
    </div>

    <!-- Navigation Menu -->
    <ul class="nav-menu">
      @for (navigation of navigations() | nav: search(); track navigation.url) {
      <li class="nav-item">
        <a
          [routerLink]="navigation.url"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{exact:true}"
          class="nav-link"
        >
          <div class="nav-icon-text">
            <span class="nav-icon material-symbols-outlined"
              >{{ navigation.icon }}</span
            >
            <span>{{ navigation.title }}</span>
          </div>
        </a>
      </li>
      }
    </ul>

    <!-- Sticky Footer Menu for Important Items (HTML) -->
    <div class="sidebar-sticky-menu">
      <!-- Örneğin önemli ve sık kullanılan menüler -->
      <a href="#" class="sticky-menu-item" title="Settings">
        <span class="material-symbols-outlined">settings</span>
      </a>
      <a href="#" class="sticky-menu-item" title="Help">
        <span class="material-symbols-outlined">help</span>
      </a>
      <a routerLink="/login" class="sticky-menu-item" title="Logout">
        <span class="material-symbols-outlined">logout</span>
      </a>
    </div>
  </div>

  <!-- Page Content -->
  <!-- Main Content Area -->
  <div id="page-content-wrapper">
    <!-- Main Content Container -->
    <div class="content-container">
      <router-outlet />
    </div>

    <div class="content-scroll-top" id="contentScrollTop">
      <button class="btn-content-scroll-top">
        <span class="material-symbols-outlined">arrow_upward</span>
      </button>
    </div>
  </div>
</div>

<footer class="fixed-footer">
  <div class="footer-left">
    <span class="material-symbols-outlined">schedule</span>
    <span class="time-display">{{time() | date: 'dd MMM yyyy hh:MM:ss'}}</span>
  </div>
  <div class="footer-center">
    <span>&copy; 2025 StellarAdmin - Version 1.0.2</span>
  </div>
  <div class="footer-right">
    <a href="#" class="footer-link">Support</a>
    <a href="#" class="footer-link">Documentation</a>
    <a href="#" class="footer-link d-none d-md-inline-block">License</a>
  </div>
</footer>
